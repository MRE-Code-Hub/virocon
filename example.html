<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Quick start example: Sea state contour &#8212; virocon  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/pydoctheme.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    
    <script src="_static/sidebar.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Overall work flow and software architecture" href="workflow.html" />
    <link rel="prev" title="Installation" href="install.html" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <link rel="shortcut icon" type="image/png" href="_static/mini_logo.png" />
    <meta name="viewport" content="width=device-width,initial-scale=0.8">
    
    

  </head><body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="responsive-menu"><a href="#sidebar-anchor" title="Navigation">&#9776;</a></li>
        <li><a href="index.html">virocon  documentation</a> &#187;</li>
          <li><a href="user_guide.html" accesskey="U">User Guide</a> &#187;</li> 
      </ul>
    </div>
    
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="quick-start-example-sea-state-contour">
<span id="quick-start-guide"></span><h1>Quick start example: Sea state contour<a class="headerlink" href="#quick-start-example-sea-state-contour" title="Permalink to this headline">¶</a></h1>
<p>Let’s start this user guide with a simple example, which can be copied easily line by line or downloaded from the
<a class="reference external" href="https://github.com/virocon-organization/virocon/tree/master/examples">examples</a> section of the repository. Based on a dataset, the long-term joint distribution of sea states is estimated,
and this distribution will be used to construct an environmental contour with a return period of 50 years. This example
follows the OMAE2020 model by Haselsteiner et al. (2020) <a class="footnote-reference brackets" href="#id4" id="id1">1</a>. The following steps are carried out in the quick start
example:</p>
<ol class="arabic simple">
<li><p>Load the environmental data that should be described by the joint model.</p></li>
<li><p>Use a predefined model to describe the dependence structure and define the parametric distributions.</p></li>
<li><p>Estimate the parameter values of the MultivariateModel (fitting).</p></li>
<li><p>Define the contour’s return period and environmental state duration.</p></li>
<li><p>Choose a type of contour: IFormContour, ISormContour, DirectSamplingContour or HighestDensityContour.</p></li>
</ol>
<p>Import the required virocon packages and packages that are needed additionally.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">virocon</span> <span class="kn">import</span> <span class="p">(</span><span class="n">GlobalHierarchicalModel</span><span class="p">,</span> <span class="n">get_OMAE2020_Hs_Tz</span><span class="p">,</span> <span class="n">calculate_alpha</span><span class="p">,</span>
                     <span class="n">IFORMContour</span><span class="p">,</span> <span class="n">plot_2D_contour</span><span class="p">,</span> <span class="n">read_ec_benchmark_dataset</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
</pre></div>
</div>
<p>Load the sea state data set. Here, we use a dataset used in a benchmark study which was published at the OMAE 2019
conference by Haselsteiner et al. (2019) <a class="footnote-reference brackets" href="#id5" id="id2">2</a>. The datasets are available here: <a class="reference external" href="https://github.com/virocon-organization/virocon/tree/master/datasets">data</a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">read_ec_benchmark_dataset</span><span class="p">(</span><span class="s2">&quot;datasets/ec-benchmark_dataset_A.txt&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>We use a predefined model to describe the dependence structure and define the structure of the joint distribution model.
virocon provides simple predefined models, which can be directly executed. Here, we use the Hs-Tz joint distribution
OMAE2020 model by Haselsteiner et al. (2020) <a class="footnote-reference brackets" href="#id4" id="id3">1</a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dist_descriptions</span><span class="p">,</span> <span class="n">fit_descriptions</span><span class="p">,</span> <span class="n">semantics</span> <span class="o">=</span> <span class="n">get_OMAE2020_Hs_Tz</span><span class="p">()</span>
</pre></div>
</div>
<p>Estimate the values of the model’s parameter. This step is also well known as “fitting”.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">model</span> <span class="o">=</span> <span class="n">GlobalHierarchicalModel</span><span class="p">(</span><span class="n">dist_descriptions</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<p>Compute the contour: Define the contour’s return period and environmental state duration. Choose a type of contour:
IFormContour, ISormContour, DirectSamplingContour or HighestDensityContour. Plot the contour.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">tr</span> <span class="o">=</span> <span class="mi">50</span> <span class="c1"># Return period in years.</span>
<span class="n">ts</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1"># Sea state duration in hours.</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="n">tr</span> <span class="o">*</span> <span class="mf">365.25</span> <span class="o">*</span> <span class="mi">24</span> <span class="o">/</span> <span class="n">ts</span><span class="p">)</span>
<span class="n">contour</span> <span class="o">=</span> <span class="n">IFORMContour</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">alpha</span><span class="p">)</span>

<span class="n">plot_2D_contour</span><span class="p">(</span><span class="n">contour</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">semantics</span><span class="o">=</span><span class="n">semantics</span><span class="p">,</span> <span class="n">swap_axis</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>The code, which is available as a Python file <a class="reference external" href="https://github.com/virocon-organization/virocon/blob/master/examples/hstz_contour_simple.py">here</a>, will create this plot
(environmental contour with a return period of 50 years):</p>
<figure class="align-default">
<a class="reference internal image-reference" href="_images/sea_state_contour.png"><img alt="sea state contour" src="_images/sea_state_contour.png" style="width: 583.8px; height: 403.2px;" /></a>
</figure>
<dl class="footnote brackets">
<dt class="label" id="id4"><span class="brackets">1</span><span class="fn-backref">(<a href="#id1">1</a>,<a href="#id3">2</a>)</span></dt>
<dd><p>Haselsteiner, A.F.; Sander, A.; Ohlendorf, J.H.; Thoben, K.D. (2020): Global hierarchical models for wind and wave contours: physical interpretations of the dependence functions. OMAE 2020, Fort Lauderdale, USA. Proceedings of the 39th International Conference on Ocean, Offshore and Arctic Engineering.</p>
</dd>
<dt class="label" id="id5"><span class="brackets"><a class="fn-backref" href="#id2">2</a></span></dt>
<dd><p>Haselsteiner, A.F.; Coe, R.; Manuel, L.; Nguyen, P.T.T.; Martin, N.; Eckert-Gallup, A. (2019): A benchmarking exercise on estimating extreme environmental conditions: methodology and baseline results. Proceedings of the 38th International Conference on Ocean, Offshore and Arctic Engineering OMAE2019, June 09-14, 2019, Glasgow, Scotland.</p>
</dd>
</dl>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
    <a id="sidebar-anchor"></a>
    

  <h4>Previous topic</h4>
  <p class="topless"><a href="install.html"
                        title="previous chapter">Installation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="workflow.html"
                        title="next chapter">Overall work flow and software architecture</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/example.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="workflow.html" title="Overall work flow and software architecture"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="install.html" title="Installation"
             accesskey="P">previous</a> |</li>
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, virocon.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.0.2.
    </div>
  </body>
</html>